---
title: 'å¦‚ä½•ç†è§£Gaboræ»¤æ³¢å™¨'
date: 2016-05-27
permalink: /posts/2016/05/blog-post-1/
tags:
---

**åŸåˆ›ï¼Œè½¬è½½è¯·æ ‡æ˜å¼•ç”¨å‡ºå¤„ã€‚**

## ä»‹ç»

æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå‚…é‡Œå¶å˜æ¢æ˜¯ä¸€ç§ä¿¡å·å¤„ç†ä¸­çš„æœ‰åŠ›å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å°†å›¾åƒä»ç©ºåŸŸè½¬æ¢åˆ°é¢‘åŸŸï¼Œå¹¶æå–åˆ°ç©ºåŸŸä¸Šä¸æ˜“æå–çš„ç‰¹å¾ã€‚ä½†æ˜¯ç»è¿‡å‚…é‡Œå¶å˜æ¢åï¼Œå›¾åƒåœ¨ä¸åŒä½ç½®çš„é¢‘åº¦ç‰¹å¾å¾€å¾€æ··åˆåœ¨ä¸€èµ·ï¼Œä½†æ˜¯Gaboræ»¤æ³¢å™¨å´å¯ä»¥æŠ½å–ç©ºé—´å±€éƒ¨é¢‘åº¦ç‰¹å¾ï¼Œæ˜¯ä¸€ç§æœ‰æ•ˆçš„çº¹ç†æ£€æµ‹å·¥å…·ã€‚
![Figure 1: A sinusoid and it's Fourier spectrum](http://ww1.sinaimg.cn/large/535663c3gw1f4au7dsla3j20ug0bjwfq.jpg)  

## å¦‚ä½•ç”Ÿæˆä¸€ä¸ªGaboræ»¤æ³¢å™¨

åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªä¸‰è§’å‡½æ•°(å¦‚æ­£å¼¦å‡½æ•°)ä¸ä¸€ä¸ªé«˜æ–¯å‡½æ•°å åŠ æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªGaboræ»¤æ³¢å™¨[1](https://www.cs.umd.edu/class/spring2005/cmsc838s/assignment-projects/gabor-filter-visualization/report.pdf)ï¼Œå¦‚ä¸‹å›¾.  

![Figure 2: Gabor filter composition: (a) 2D sinusoid oriented at 30â—¦ with the x-axis, (b) a Gaussian kernel, (c) the corresponding Gabor filter. Notice how the sinusoid becomes spatially localized.](http://ww3.sinaimg.cn/large/535663c3gw1f4auqgsxedj209n0jutal.jpg)  

## Gaboræ ¸å‡½æ•°

äºŒç»´Gaboræ ¸å‡½æ•°ç”±ä¸€ä¸ªé«˜æ–¯å‡½æ•°å’Œä¸€ä¸ªä½™å¼¦å‡½æ•°ç›¸ä¹˜å¾—å‡ºï¼Œå…¶ä¸­$\theta,\phi,\gamma,\lambda,\sigma$ä¸ºå‚æ•°ã€‚  
![](http://ww3.sinaimg.cn/large/535663c3gw1f4av9098mkj21bz096t9x.jpg)  
åœ¨OpenCVä¸­çš„*getGaborKernel*å‡½æ•°é‡Œéœ€è¦ä¼ å…¥çš„å‚æ•°é™¤äº†ä¸Šè¿°5ä¸ªå¤–ï¼Œè¿˜éœ€è¦ä¼ å…¥å·ç§¯æ ¸çš„å¤§å°ã€‚
```
cv::Mat getGaborKernel(Size ksize, double sigma, double theta, double lambd, double gamma, double psi=CV_PI*0.5, int ktype=CV_64F );
```
![Figure 3: The Gabor Filter in frequency with the orientation of 0Â°, 45Â°, 90Â°.](http://ww3.sinaimg.cn/large/535663c3gw1f4aw11j71jj21ac0bljv7.jpg)  

## å‚æ•°

### Orientation **$\theta$**

$\theta$è¡¨ç¤ºGaboræ»¤æ³¢æ ¸ä¸­å¹³è¡Œæ¡å¸¦çš„æ–¹å‘ï¼Œæœ‰æ•ˆå€¼ä¸ºä»0~360åº¦çš„å®æ•°ã€‚
![Figure 4: The Gabor Filter with the ğœƒ of 0Â°, 45Â°, 90Â°.](http://ww3.sinaimg.cn/large/535663c3gw1f4awqjgwonj21410aamxh.jpg)

### Phase offset **$\phi$**

$\phi$è¡¨ç¤ºGaboræ ¸å‡½æ•°ä¸­ä½™å¼¦å‡½æ•°çš„ç›¸ä½å‚æ•°ï¼Œæœ‰æ•ˆå€¼ä¸º-180åº¦~180åº¦ï¼Œ0åº¦å’Œ180åº¦å¯¹åº”çš„æ–¹ç¨‹ä¸åŸç‚¹å¯¹ç§°ï¼Œ-90åº¦å’Œ90åº¦çš„æ–¹ç¨‹åˆ†åˆ«äºåŸç‚¹æˆä¸­å¿ƒå¯¹ç§°ï¼Œå¯ä¸¤é¡¹ç›´è§’åæ ‡ç³»ä¸­çš„ä½™å¼¦å‡½æ•°ã€‚
![Figure 5: The Gabor Filter with the ğœ‘ of 17Â°, 180Â°. ](http://ww2.sinaimg.cn/large/535663c3gw1f4awujuiamj20ps0a9jrh.jpg)

### Aspect ratio **$\gamma$**

$\gamma$ï¼Œçºµæ¨ªæ¯”ï¼Œæ›´å‡†ç¡®çš„åº”ç§°ä¸ºç©ºé—´çºµæ¨ªæ¯”ï¼Œè¡¨ç¤ºGaboræ»¤æ³¢å™¨çš„æ¤­åœ†åº¦ã€‚
![Figure 6: The Gabor Filter with the ğ›¾ of 14, 45, 110.](http://ww2.sinaimg.cn/large/535663c3gw1f4ax3785jbj21a80aajrp.jpg)

### Wavelength **$\lambda$**

$\lambda$è¡¨ç¤ºGaboræ ¸å‡½æ•°ä¸­ä½™å¼¦å‡½æ•°çš„æ³¢é•¿å‚æ•°ï¼Œæœ‰æ•ˆå€¼åº”å¤§äº2ï¼Œä»¥åƒç´ ä¸ºå•ä½ã€‚
![Figure 7: The Gabor Filter with the ğœ† of 3, 8.](http://ww4.sinaimg.cn/large/535663c3gw1f4axbdutgnj20r50a9glo.jpg)

### The standard deviation **$\sigma$**

$\sigma$è¡¨ç¤ºGaboræ ¸å‡½æ•°ä¸­é«˜æ–¯å‡½æ•°çš„æ ‡å‡†å·®ï¼Œè¯¥å‚æ•°å†³å®šäº†Gaboræ»¤æ³¢æ ¸å¯æ¥å—åŒºåŸŸçš„å¤§å°ï¼Œ$\sigma$ä¸èƒ½è¢«ç›´æ¥æŒ‡å®šï¼Œå…¶å€¼ä¸b(Bandwidth)å’Œ$\lambda$æœ‰å…³ã€‚  

Bandwidth(b)è¡¨ç¤ºé«˜ä½é¢‘ç‡ä¹‹å·®ã€‚åœ¨å®é™…é€‰å–Gaboræ»¤æ³¢æ ¸ä¸­ï¼Œæˆ‘ä»¬ä¼šé€‰å–é¢‘åŸŸä¸­åŠå“åº”ç©ºé—´é¢‘åº¦å¸¦å®½(the half-response spatial frequency bandwidth)ï¼Œæˆ–è€…åŠå³°é‡çº§(the half-peak magnitude)ï¼Œä»–ä»¬éƒ½æŒ‡çš„æ˜¯é¢‘åŸŸä¸­Bandwidth/2çš„ç©ºé—´ä½ç½®ã€‚b,$\lambda$å’Œ$\sigma$çš„å…³ç³»å¦‚ä¸‹:
![](http://ww3.sinaimg.cn/large/535663c3gw1f4axt1elycj214807imxv.jpg)
![Figure 8: The Gabor Filter with the ğœ† of 3, 8.](http://ww4.sinaimg.cn/large/535663c3gw1f4axbdutgnj20r50a9glo.jpg)

### æ¼”ç¤º

è¿™é‡Œç”¨ä¸€å¼ ç¨‹åºè¿è¡ŒåŠ¨æ€å›¾å¯ä»¥æ¸…æ¥šçš„æ˜¾ç¤ºå‡ºGaboræ»¤æ³¢æ ¸éšå„ä¸ªå‚æ•°å˜åŒ–çš„æƒ…å†µ, è¯¥ç¨‹åºçš„[é“¾æ¥](http://www.juergenwiki.de/old_wiki/doku.php?id=public:gabor_filter)ã€‚  

[Figure 9: A Dynamic Demonstration of Gabor Filter (Open in new tab)](http://i.stack.imgur.com/VpT0J.gif)  

å¦‚ä¸‹ä¸ºä¸åŒå‚æ•°è°ƒèŠ‚ä¸‹ï¼ŒGaboræ»¤æ³¢å™¨ä½œç”¨äºå›¾åƒçš„æ•ˆæœ[æ¼”ç¤º](https://v.youku.com/v_show/id_XMTU4NzA0MTIyOA==.html?spm=a2h0j.11185381.listitem_page1.5!2~A)  

## å¦‚ä½•è®¾è®¡Gaboræ»¤æ³¢å™¨æ¥æå–ç‰¹å¾

ä¸ºäº†å……åˆ†åˆ©ç”¨Gaboræ»¤æ³¢å™¨çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¿…ç„¶éœ€è¦è®¾è®¡ä¸åŒæ–¹å‘ï¼Œä¸åŒå°ºåº¦çš„GaborLæ»¤æ³¢å™¨æ¥æå–ç‰¹å¾ï¼Œ[2](http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=531803&url=http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=531803  )ä¸­æåˆ°äº†å¦‚ä¸‹ç­–ç•¥æ¥ä½¿æ»¤æ³¢å™¨å°½é‡æ— é‡å è¦†ç›–é¢‘åŸŸä¸­çš„å„ä¸ªæ–¹å‘ï¼š  
>â€œThen the design strategy is to ensure that the half-peak magnitude support of the filter responses in the frequency spectrum touch each other as shown in Fig. 1.â€  

![Figure 10: The contours indicate the half-peak magnitude of the filter responses in the Gabor filter dictionary. The filter parameters used are U,=0.4, U,=0.05,K=6,andS=4.](http://ww2.sinaimg.cn/large/535663c3gw1f4azv67xdnj20lv0e6jsk.jpg)

é¦–å…ˆé€šè¿‡å¦‚ä¸‹å…¬å¼è®¡ç®—å‡º$a$, $\sigma_x$, $\sigma_y$,å…¶ä¸­$U_h$,$U_l$åˆ†åˆ«è¡¨ç¤ºæ»¤æ³¢å™¨çš„ä¸­å¿ƒé¢‘åº¦ï¼ŒåŠæ³¢é•¿$\lambda$çš„å€’æ•°ï¼ŒKä¸ºæ–¹å‘çš„æ•°é‡ï¼ŒSä¸ºå°ºåº¦çš„æ•°é‡ã€‚
![](http://ww1.sinaimg.cn/large/535663c3gw1f4b0l8hpagj21ch0i2gnj.jpg)

ç„¶åå°†ä¸Šè¿°ç»“æœå¸¦å…¥ä¸‹åˆ—Gaboræ ¸å‡½æ•°æ–¹ç¨‹ï¼Œä»è€Œæ±‚å¾—Gaborå·ç§¯æ ¸ä¸ŠæŸç‚¹çš„å€¼ã€‚å…¶ä¸­ğ‘š=0,1,â€¦,ğ‘†âˆ’1,  n=0,1,â€¦,ğ¾âˆ’1, ğœƒ=ğ‘›ğœ‹/ğ¾
![](http://ww3.sinaimg.cn/large/535663c3gw1f4b0lk3dl2j21ch0gcjto.jpg)

ä½†æ˜¯åœ¨OpenCVä¸­çš„Gaboræ ¸å‡½æ•°é‡‡ç”¨å¼(1)çš„å½¢å¼ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹ä¸¤ç§ä¸åŒè¡¨è¾¾çš„Gaboræ ¸å‡½æ•°ä¸­çš„å‚æ•°è¿›è¡Œä¸€äº›è½¬æ¢ã€‚æ¯”è¾ƒä¸¤ç§è¡¨è¾¾å¼ï¼Œä¸éš¾çœ‹å‡ºï¼Œå¼(4)ä¸­çš„2$\pi$jWx'æ˜¯ä¸€ä¸ªå¤æ•°å½¢å¼ï¼Œå¯ä»¥åˆ†è§£æˆæ­£ä½™å¼¦å’Œçš„å½¢å¼ï¼Œä¸å¼(1)ä¸­çš„ä½™å¼¦å‡½æ•°éƒ¨åˆ†ç›¸å¯¹åº”ï¼Œå¼(4)æœ€å‰ç«¯çš„éƒ¨åˆ†ä¸ºå¹…åº¦ã€‚å› æ­¤ä¸¤ç§å½¢å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºé«˜æ–¯å‡½æ•°çš„æŒ‡æ•°ä»¥åŠx'çš„è¡¨è¾¾ä¸åŒã€‚é€šè¿‡å¦‚ä¸‹è½¬æ¢ï¼Œå°±å¯ä»¥å°†å¼(4)ä¸­çš„å‚æ•°è½¬æ¢æˆå¼(1)ä¸­çš„å‚æ•°ã€‚
![](http://ww4.sinaimg.cn/large/535663c3gw1f4b11rool8j20dz08pdgs.jpg)
![](http://ww4.sinaimg.cn/large/535663c3gw1f4b13vq3aej219r0n1whc.jpg)

### ä¸åŒçš„å·ç§¯æ ¸(kernel size)å¤§å°å¯¹Gaboræ»¤æ³¢æ ¸çš„å½±å“

å¦‚æœå·ç§¯æ ¸çš„è¾¹é•¿å°äºæ³¢é•¿ï¼Œé‚£ä¹ˆæ•´ä¸ªæ³¢å½¢ä¸èƒ½åŒ…æ‹¬åœ¨å·ç§¯æ ¸ä¸­ï¼Œä½¿å¾—æ³¢å½¢è¾¹ç¼˜çš„æ»¤æ³¢æ•ˆæœèµ·ä¸åˆ°ä½œç”¨ã€‚ç›¸åï¼Œå¦‚æœå¦‚æœå·ç§¯æ ¸çš„è¾¹é•¿å¤§äºæ³¢é•¿ï¼Œåˆ™ä¸ä¼šå¯¹æ»¤æ³¢å™¨äº§ç”Ÿä»€ä¹ˆå½±å“ã€‚


### ç›¸ä½å˜åŒ–å¯¹Gaboræ»¤æ³¢æ ¸çš„å½±å“

é€šè¿‡ç›¸ä½å˜åŒ–å¯ä»¥æ”¹å˜æ»¤æ³¢æ ¸ä¸­å¿ƒç‚¹çš„æ³¢å½¢ï¼Œå¦‚æœæ»¤æ³¢æ ¸ä¸­å¿ƒç‚¹æ­£å¯¹æ³¢å³°($\phi=0$)ï¼Œåˆ™ä¼šå¯¹æ•´å¼ å›¾åƒèµ·åˆ°åŠ å¼ºçš„ä½œç”¨ï¼Œå¦‚æœæ»¤æ³¢æ ¸ä¸­å¿ƒç‚¹æ­£å¯¹æ³¢è°·($\phi=180$)ï¼Œåˆ™ä¼šå¯¹æ•´å¼ å›¾åƒèµ·åˆ°å‡å¼±çš„ä½œç”¨ã€‚æˆ‘ä»¬åº”å½“é¿å…æ»¤æ³¢æ ¸ä¸­å¿ƒç‚¹çš„æ³¢å½¢ä½äºé›¶äº¤å‰ç‚¹ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬å¯èƒ½ä¼šçœ‹ä¸åˆ°æ»¤æ³¢å™¨çš„ä»»ä½•æ•ˆæœã€‚

## References

\[1\] Prasad V S N, Domke J. Gabor filter visualization[J]. J. Atmos. Sci, 2005, 13.

\[2\] Manjunath B S, Ma W Y. Texture features for browsing and retrieval of image data[J]. Pattern Analysis and Machine Intelligence, IEEE Transactions on, 1996, 18(8): 837-842.

\[3\] Movellan J R. Tutorial on Gabor filters[J]. Open Source Document, 2002.

\[4\] Celik T, Lee H K, Petznick A, et al. Bioimage informatics approach to automated meibomian gland analysis in infrared images of meibography[J]. Journal of optometry, 2013, 6(4): 194-204.

\[5\] Cheng E, Du L, Wu Y, et al. Discriminative vessel segmentation in retinal images by fusing context-aware hybrid features[J]. Machine Vision and Applications, 2014, 25(7): 1779-1792.

\[6\] Advances in Digital Document Processing and Retrieval[M]. World Scientific, 2013.

\[7\] å­”é”, å¼ å†°. Gabor æ»¤æ³¢å™¨å‚æ•°è®¾ç½®[J]. æ§åˆ¶ä¸å†³ç­–, 2012, 27(8): 1277-1280.

## Useful Web Sites

<http://www.cs.rug.nl/~imaging/simplecell.html>

<http://www.juergenwiki.de/old_wiki/doku.php?id=public:gabor_filter>

å¸®åŠ©ç†è§£Gaboræ»¤æ³¢å™¨çš„æœ‰å…³æ–‡æ¡£ï¼Œä»¥åŠGaboræ»¤æ³¢å™¨çš„å¯è§†åŒ–ç¨‹åºå·²ç»ä¸Šä¼ åˆ°[Github](https://github.com/xuewenyuan/Gabor_Visualization).

---------------------------------------------------
**å¦‚æœ‰ä»»ä½•ç›¸å…³é—®é¢˜æ¬¢è¿è¯„è®ºæˆ–è€…é‚®ä»¶è®¨è®º<15120452@bjtu.edu.cn>**

------
